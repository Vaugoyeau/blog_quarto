---
title: "Initiation √† `Quarto`"
author: "Marie Vaugoyeau"
date: "2023/10/03"
date-format: "D MMMM YYYY"
categories: [twitch, Rnewbies, quarto]
toc: true
toc-title: Sur cette page
---

[![](chateau_brissac.png){fig-align="center"}](https://500px.com/p/antoinemach?view=photos)

::: {.callout-note icon="false"}
[**Twitch du 3 octobre 2023**](https://www.twitch.tv/videos/1941574357).

Code disponible sur [GitHub](https://github.com/Vaugoyeau/twitch_quarto_initiation).
:::

# C'est quoi Quarto ?

![](https://quarto.org/quarto.png)

Apr√®s une dizaine d'ann√©e de d√©veloppement sur `RMarkdown`, [Posit](https://posit.co/) (anciennement RStudio) [a annonc√© en 2022](https://posit.co/blog/announcing-quarto-a-new-scientific-and-technical-publishing-system/) la naissance de `Quarto`.\
Donc `Quarto` est l'h√©ritier de [RMarkdown](https://quarto.org/quarto.png) qui combien le texte sous format [Markdown](https://quarto.org/docs/authoring/markdown-basics.html) et les portions de code appel√© `chunk`.\
Le code peut-√™tre en `R` comme en `Python`.

Comme `RMarkdown`, sa grande force est de rendre **reproductible**, **r√©p√©table** et **r√©utilisable** les lignes de codes.

::: callout-tip
## Innovation

Il n'y aura pas ou peu d'innovations sur `RMarkdown` maintenant que `Quarto` existe.
:::

# Cr√©ation d'un projet `Quarto`

La grosse nouveaut√© entre `RMarkdown` et `Quarto` est que `Quarto` est une infrastructure plus large qui remplace le classique projet RStudio.

Pour cr√©er un projet `Quarto`, c'est tr√®s simple, il suffit de cliquer sur l'ic√¥ne bleue projet ou `File > New Project...`.\
Ensuite, il faut cliquer sur `Quarto project`. S'il n'appara√Æt pas ce que RStudio n'est pas √† jour. Il est n√©cessaire de commencer par mettre √† jour R et RStudio.

Le projet cr√©√© contient trois fichiers :

\_ Le fichier `_quarto.yml` qui contient les param√©trages du dossier\
\_ Le fichier `nom_du_projet.qmd` qui est un document `Quarto` g√©n√©r√© automatiquement\
\_ Le fichier `nom_du_projet.Rproj`, le fichier du projet

Le document `Quarto` g√©n√©r√© automatiquement est tr√®s simple. Il est l√† pour comprendre le fonctionnement de base. Il est tr√®s utile pour apprendre √† manipuler `Quarto`.

# Lecture d'une fichier `Quarto`

Les fichiers `Quarto` ont une composition classique : une en-t√™te `YAML` facultative avec un encha√Ænement de **texte** et de **blocs de codes**.

Deux `vues` sont disponibles :

\_ `Visual` : Qui ressemble √† ce qui sera obtenu avec des clics boutons proches d'un logiciel de traitement texte tels que `Word`, `Mot`, `Writer`...\
\_ `Source` : Qui contient le script en `Markdown`

## En-t√™te `YAML` (facultative)

Elle permet de param√©trer les sorties du document mais elle n'est pas obligatoire

::: callout-important
## Indentation

Si l'indentation (les espaces avant le texte) n'a que peu d'importance dans le code `R`, elle est tr√®s importante en `YAML` et doit-√™tre regard√© avec attention !
:::

Le document g√©n√©r√© automatiquement ne poss√®de qu'un titre dans l'en-t√™te.

## Syntaxe du texte

Le texte en `Quarto`, utilise la [syntaxe `Markdown`](https://quarto.org/docs/authoring/markdown-basics.html) :

\_ Les titres sont caract√©ris√©s par des `#` en fonction du niveau : `#Titre de niveau 1`, `##Titre de niveau 2`...\
\_ La mise en forme du texte se fait avec les √©toiles ou les impostrophes (apostrophe √† l'envers) :

-   Une √©toile `*` avant et apr√®s la partie √† valoriser permet de mettre en *italique* (cod√© `*italique*`)\
-   Deux `**` avant et apr√®s mettent en **gras** (cod√© `**gras**`)\
-   Trois `***` avant et apr√®s mettent en ***gras et italique*** (cod√© `***gras et italique***`)\
-   Un **double espace** permet de passer √† la ligne. Il faut donc toujours mettre deux espaces √† la fin de chaque ligne. Sans ces espaces, toutes les lignes sont coll√©es les unes √† la suite des autres\
-   Pour √©diter un `format code` (sans qu'il se lance) pour pr√©senter les packages, les fonctions ou les objets utilis√©s (comme fait dans ce document), il faut encadrer d'impostrophes

Des images peuvent aussi √™tre int√©gr√©es gr√¢ce √† `![*l√©gende_de_l_image*](adresse_de_l_image.format_de_l_image)`

## Portion de code

Le code est enregistr√© dans des chuncks d√©limit√©s par trois impostrophes comme ci-dessous.\
Les param√®tres du chunk sont pr√©c√©d√©s de `#|`.\
Cela permet de donner un nom au chunck avec `#| label: nom_du_chunk` ou de choisir les sorties `#| echo: true` : le code est affich√© dans le format de sortie, `#| warning: false` : les messages de type `warning` ne sont pas affich√©s...\
Touts les param√©trages peuvent se retrouver dans [le guide Quatro](https://quarto.org/docs/reference/cells/cells-knitr.html).

```{r}
#| echo: fenced
#| label: nom_du_chunk
#| warning: false

1 + 1
```

::: callout-waring
Si un des impostrophes est supprim√© par erreur, le code ne peut pas se lancer !\
Il faut toujours v√©rifier que les chunks soient bien ferm√©s (fond d'une couleur diff√©rente).
:::

# Modification d'un fichier `Quarto`

## Modification de l'en-t√™te

Lors du Twitch, j'ai montr√© comment changer le titre et ajouter un.e auteur.trice dans l'en-t√™te.

```         
---
title: "Initiation √† *Quarto*"
author: "Marie Vaugoyeau"
---
```

Il est aussi possible de modifier le format de sortie pour g√©n√©rer un `pdf` avec un sommaire cliquable `toc: true` :

```         
---
title: "Initiation √† *Quarto*"
author: "Marie Vaugoyeau"
format:
  pdf: 
    toc: true
---
```

Ou param√©trer diff√©rement deux formats de sortie :

```         
---
title: "Initiation √† *Quarto*"
author: "Marie Vaugoyeau"
format:
  html: 
    toc: true
    code-fold: true
    echo: false
    eval: false
  pdf: 
    toc: true
---
```

::: callout-tip
## Format de sortie

Pour conna√Ætre tous les formats de sorties g√©n√©r√©s par un fichier `Quarto`, rendez-vous sur [le guide de `Quarto`](https://quarto.org/docs/output-formats/all-formats.html)
:::

## Utilisation des blocs d'interpellation (*callout*)

J'ai aussi montrer comme ajouter des bo√Ætes d'interpellations comme celles ci-dessous.

```         
::: callout-tip
## Les **statistiques**

Ensemble de m√©thodes qui ont pour objet la **collecte**, le **traitement** et l'**interpr√©tation** de l'ensemble des **donn√©es d'observation** relatives √† une **population statistique** (groupe d'individus ou d'unit√©s) ou concernant un ph√©nom√®ne quelconque.
:::
```

::: callout-tip
## Les **statistiques**

Ensemble de m√©thodes qui ont pour objet la **collecte**, le **traitement** et l'**interpr√©tation** de l'ensemble des **donn√©es d'observation** relatives √† une **population statistique** (groupe d'individus ou d'unit√©s) ou concernant un ph√©nom√®ne quelconque.
:::

```         
::: callout-note
## Un **bon code**

Est un code qui produit les **r√©sultats attendus** suffisamment vite et **facile √† maintenir**
:::
```

::: callout-note
## Un **bon code**

Est un code qui produit les **r√©sultats attendus** suffisamment vite et **facile √† maintenir**
:::

```         
::: callout-warning
## A retenir

Il faut r√©fl√©chir pour analyser les donn√©es de **mani√®re adapt√©e** et **interpr√©ter correctement** les r√©sultats
:::
```

::: callout-warning
## A retenir

Il faut r√©fl√©chir pour analyser les donn√©es de **mani√®re adapt√©e** et **interpr√©ter correctement** les r√©sultats
:::

```         
::: callout-important
## Erreurs √† ne pas commettre

-   r fort ne signifie pas une **relation de cause √† effet** entre les deux variable\
-   r faible ne signifie pas **pas de relation entre les deux variables**. Il peut y avoir une relation non lin√©aire\
:::
```

::: callout-important
## Erreurs √† ne pas commettre

-   r fort ne signifie pas une **relation de cause √† effet** entre les deux variable\
-   r faible ne signifie pas **pas de relation entre les deux variables**. Il peut y avoir une relation non lin√©aire\
:::

```         
::: {.callout-caution collapse="true"}
## Mieux comprendre l'utilsation du d√©veloppement  
  
Ce bloc est un exemple qui ne se d√©veloppe qu'en cliquant sur la fl√®che. Il faut utiliser `collapse="true"` comme cela `{.callout-tip/note/warning/important/caution collapse="true"}`.  
:::
```

::: {.callout-caution collapse="true"}
## Mieux comprendre l'utilsation du d√©veloppement

Ce bloc est un exemple qui ne se d√©veloppe qu'en cliquant sur la fl√®che. Il faut utiliser `collapse="true"` comme cela `{.callout-tip/note/warning/important/caution collapse="true"}`.
:::

## Ajout d'un chunk de code

Tr√®s simplement gr√¢ce au raccourci clavier `Ctrl + Alt + I` ou le clic bouton carr√© vert ![](ajout_chunk.png)

Il est aussi possible d'ajouter un calcul simple comme :\
La longueur moyenne de longueur de sepal du jeu de donn√©es iris : `r mean(iris$Sepal.Length) |> round()` cm\
Cod√© par La longueur moyenne de longueur de sepal du jeu de donn√©es iris : *r mean(iris\$Sepal.Length) \|\> round()* cm avec des impostrophes autours du texte en *italique*.

# R√©alisation d'un support de pr√©sentation

Pour moi, `Quarto` est meilleur que `RMarkdown` pour g√©n√©rer des supports de pr√©sentations et comme vu pr√©c√©demment, le m√™me fichier peut-√™tre g√©n√©r√© en `html`, `revealjs`, `pdf`...

::: callout-note
## Pour faire un support de pr√©sentation

Le mieux est g√©n√©r√© un nouveau fichier d√©di√© via :

\_ Un clic-bouton sur le rectangle blanc avec un plus sur fond vert ![](creation_pres.png)\
\_ Dans le menu `File > New File > Quarto Presentation...`

**Tous les choix fais dans la bo√Æte de dialogue peuvent-√™tre modifi√©s apr√®s**
:::

## Cr√©ation de nouvelles diapos

De base, une nouvelle diapo est cr√©√© par titre de deuxi√®me niveau `##`. Les titres de premier niveau donne des titres de section : `#`

```         
---
title: "Cr√©ation d'un support"
author: "Marie Vaugoyeau"
format: revealjs
---

## Premi√®re diapo

- Cr√©ation d'une liste
- Contenant plusieurs objets

## Deuxi√®me diapo

Ne contenant que du texte

::: {.callout-tip collapse="true"}
## Et un **bloc d'interpellation**  

Il en existe 5 sortes :  

- `note` en bleu avec un `i` dans un rond par d√©faut
- `warning` en orange avec un `!` dans un triange par d√©faut
- `important` en rouge avec un `!` dans un rond par d√©faut
- `tip` en vert avec une ampoule par d√©faut
- `caution` en jaune avec un c√¥ne de chantier par d√©faut

:::
```

Pour faire des diapos sans titre, il faut les s√©parer par `---`

```         
---
title: "Cr√©ation d'un support"
author: "Marie Vaugoyeau"
format: revealjs
---

---

- Cr√©ation d'une liste
- Contenant plusieurs objets

---

Ne contenant que du texte

::: {.callout-tip collapse="true"}
## Et un **bloc d'interpellation**  

Il en existe 5 sortes :  

- `note` en bleu avec un `i` dans un rond par d√©faut
- `warning` en orange avec un `!` dans un triange par d√©faut
- `important` en rouge avec un `!` dans un rond par d√©faut
- `tip` en vert avec une ampoule par d√©faut
- `caution` en jaune avec un c√¥ne de chantier par d√©faut

:::
```

## Incrementation des puces

Les puces peuvent appara√Ætre pas √† pas gr√¢ce √† l'option `incremental` soit sur un bloc :

```         
::: {.incremental}

- Cr√©ation d'une liste
- Contenant plusieurs objets

:::

::: {.nonincremental}

- Cr√©ation d'une liste
- Contenant plusieurs objets

:::
```

Soit sur tous le document gr√¢ce √† l'option dans l'en-t√™te (d'o√π l'inter√™t du `nonincremental` d'au-dessus).

```         
format:
  revealjs:
    incremental: true
```

## Faire plusieurs colonnes

La cr√©ation de colonnes est possible diapos, par diapos gr√¢ce √† l'option `{.columns}`

```         
::: {.columns}

::: {.column width="40%"}
![](https://mvaugoyeau.netlify.app/marie-vaugoyeau.png)
:::

::: {.column width="60%"}
Bonjour,  
Je suis **Marie VAUGOYEAU**, accompagnatrice ind√©pendante √† l‚Äôanalyse de donn√©es üë©‚Äçüíª  
Ce que je pr√©f√®re faire **c‚Äôest aider les chercheu.se.r.s dans la valorisation de leurs donn√©es avec R**.  
  
En plus de mes missions, j‚Äôaime partager mes connaissances en statistiques et R, en partie sur ce blog mais aussi dans une [newsletter](https://d1154691.sibforms.com/serve/MUIEAGj4fIubg6D4qHb7BoZSxNhzkV4p2L0I7GHpNopbqPeDS1J0SpOgaTDCavroygrDTCukB0La-8s1nsQw5wCANT5UP64en1GudsGbKhGVlwbvP_bJdAJ0ECF9BOZ1swRKEnKlnWzTHpLjknJvrCXiH_xw4F_go_2kVB0dWWrkJzRoE22BXImtgVOu29gBxx2hjFkINdeW7Cae?), sur [Twitch](https://www.twitch.tv/marievaugoyeau) et [LinkedIn](https://www.linkedin.com/in/marie-vaugoyeau-72ab64153).  
J‚Äôai aussi √©crit [un livre](https://www.editions-eni.fr/livre/langage-r-et-statistiques-initiation-a-l-analyse-de-donnees-9782409036934) üìï
:::

::::
```

## Ajout du scrolling pour les pr√©sentations `reactjs`

Lorsqu'il y a beaucoup d'information sur une m√™me diapo, le texte ne peut pas √™tre affich√© en entier. En effet, **la taille du texte ne varie pas en fonction de la place sur la page**.\
Plut√¥t que de r√©duire la taille de la police, il est possible d'ajouter du `scrolling` soit pour une diapo sur la ligne du titre `## Titre de la diapo {.scrollable}` soit dans l'en-t√™te pour toutes les diapos

```         
format:
  revealjs:
    incremental: true
    scrollable: true
```

# Conclusion

Impossible de parler de toutes les foncitonnalit√©s possible, j'esp√®re que cet article permettra √† ceratin.e.s de se lancer dans l'utilisation de `Quarto` ! Pour en savoir plus, rendez-vous sur [la page d√©di√©e](https://quarto.org/docs/guide/) !
